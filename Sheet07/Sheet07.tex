\documentclass[a4paper,11pt]{article}
\pagenumbering{arabic}
\usepackage{../environment}
\usepackage{../quiver}

\begin{document}

\begin{center}
    \huge{Solutions to Sheet 7}
\end{center}

\exercise{1}
Let $A \to B$ be a homomorphism of rings, let $M$ be an $A$-module and 
let $N$ be a $B$-module. 
\begin{enumerate}
    \item Show that the map
        \begin{equation*}
            \Hom_A(M,N) \to \Hom_B(B \otimes_A M, N), \quad
            \phi \mapsto (b \otimes m \mapsto b \phi(m))
        \end{equation*}
        is a well-defined isomorphism.

    \item Show that the map
        \begin{equation*}
            M \otimes_A N \to (M \otimes_A B) \otimes_B N, \quad
            m \otimes n \mapsto (m \otimes 1) \otimes n
        \end{equation*}
        is a well-defined isomorphism. 

    \item Deduce that $S^{-1} M_1 \otimes_A S^{-1}M_2 \cong
        S^{-1} M_1 \otimes_{S^{-1}A} S^{-1} M_2$
        for two $A$-modules $M_1, M_2$ and a multiplicative subset 
        $S \subset A$. 
\end{enumerate}
\textbf{Solution.}
\begin{enumerate}
    \item A function $\phi \in \Hom_B(B \otimes_A M , N)$ is uniquely determined
        by its values on elementary tensors. We have $\phi(b \otimes m) = 
        b \phi(1 \otimes m)$, so in reality $\phi$ is uniquely determined by 
        its values on $1 \otimes m$. But any such morphism gives rise to 
        a $A$-linear map via $m \mapsto 1\otimes m \mapsto \phi(1 \otimes m)$, 
        and conversely any $\psi \in \Hom_A(M,N)$ yields a unique morphism
        via $b \otimes m \mapsto b \psi(m) \in \Hom_B(B \otimes_A M, N)$. 
        These constructions are quickly checked to be mutually inverse.

        \textbf{Remark.} This is a special case of the so called 
        \textit{Hom-Tensor adjunction}. It states that there is a 
        natural isomorphism
        \begin{equation*}
            \Hom_B(M \otimes_A L, N) \cong \Hom_A(M, \Hom_B(L,N)).
        \end{equation*}
        In more fany terms, this says that the functors
        $\Hom_B(L, -): \Mod_B \to \Mod_A$ and $- \otimes_A L: \Mod_A
        \to \Mod_B$ is an adjoint pair, for any $B$-module $L$.

    \item Again, universal properties. Of course, we'll want to show that this
        is an isomorphism of $B$-modules. We do this by using the universal property.
        What is a $B$-linear morphism $\phi: (M \otimes_A B) \otimes_B N 
        \to P$? The same as a $B$-bilinear map $\Phi: (M \otimes_A B) \times N 
        \to P$. But as $\Phi(m \otimes b, n) = b \Phi(m \otimes 1, n)$, any
        such bilinear map is uniquely determined by its values on elements of 
        the form $(m \otimes 1 , n)$, hence it really is the same as a
        $A$-bilinear map $M \times N \to P$, given by
        $(m,n) \mapsto (m \otimes 1, n) \mapsto \Phi(m \otimes 1, n)$.
        This construction is quickly verified to be an isomorphism. But now
        $(M \otimes_A B) \otimes_B N$ satisfies the universal property of $M
        \otimes_A N$. 

    \item We apply the above with $S^{-1}M_1 = M$ and $S^{-1}M_2 = N$ and
        $B = S^{-1}A$. Note that $S^{-1}M_1 \otimes_A S^{-1}A \cong 
        S^{-1}(S^{-1}M_1) \cong S^{-1}M_1$, which gives (following the above)
        \begin{equation*}
            S^{-1}M_1 \otimes_A S^{-1}M_2 \cong
            (M \otimes_A S^{-1}A) \otimes_{S^{-1}A} S^{-1}M_2 \cong
            S^{-1}M_1 \otimes_{S^{-1} A} S^{-1}M_2.
        \end{equation*}
\end{enumerate}

\exercise{2}
Let $A$ be a ring. We define the \textit{support} of an $A$-module $M$
as $\supp(M) \coloneqq \{ \fp \in \spec(A) \mid M_\fp \neq 0\}$.
\begin{enumerate}
    \item Assume $M$ is finitely generated. Show that $\supp(M) 
        = \{\fp \in \spec(A) \mid M \otimes_A k(\fp) \neq 0\}$, where
        $k(\fp) = \mathrm{Quot}(A/\fp)$. 
    \item Assume $M,N$ are finitely generated $A$-modules. Show 
        $\supp(M\otimes_A N) = \supp(M) \cap \supp(N)$.
\end{enumerate}
\textbf{Solution.} 
\begin{enumerate}
    \item We will show that $M_\fp \neq 0$ if and only if $M \otimes_A k(\fp)
        \neq 0$. The map $A \to k(\fp)$ factors through the map 
        $A_\fp \to k(\fp)$, and we find $M \otimes_A k(\fp) = M_\fp
        \otimes_{A_\fp} k(\fp)$, this directly gives the 
        implication $M \otimes_A k(\fp) \neq 0 \implies M_\fp \neq 0$. 

        For the other direction, we use Nakayama's Lemma. It (or at least one version
        of it) states that if $N \neq 0$ is a finitely generated module over a local ring
        $B$ with maximal ideal $I$, we have $IN \neq N$. In our situation, if
        we assume $M_\fp \neq 0$, Nakayama says
        \begin{equation*}
            M_\fp \otimes_{A_\fp} k(\fp) \cong M_{\fp}/\fp M_\fp \neq 0.
        \end{equation*}
        Done.
    \item We'll show that $(M \otimes_A N) \otimes k(\fp) \neq 0$ if and only if
        $M \otimes_A k(\fp) \neq 0$ and $N \otimes_A k(\fp) \neq 0$. 
        Exercise 1.2 gives the isomorphism
        \begin{equation*}
            (M \otimes_A k(\fp)) \otimes_{k(\fp)} (N \otimes_A k(\fp))
            \cong M \otimes_A (N \otimes_{A} k(\fp)) \cong (M \otimes_A N) \otimes_A k(\fp).
        \end{equation*}
        From here we can directly check the desired equivalence.
\end{enumerate}

\exercise{3}
Let $A$ be a ring, let $S \subset A$ be a multiplicative subset and let 
$M,N$ be $A$-modules.
\begin{enumerate}
    \item Assume that $M$ is finitely presented $A$-module. Show that the
        map 
        \begin{equation*}
            S^{-1} \Hom_A(M,N) \to \Hom_{S^{-1}A}(S^{-1}M, S^{-1}N), \quad
            \phi/s \mapsto (m/t \mapsto \phi(m)/st)
        \end{equation*}
        is a well-defined isomorphism.
    \item Construct a counterexample to the above if $M$ is only assumed
        to be finitely generated.
\end{enumerate}
\textbf{Solution.}
\begin{enumerate}
    \item First, note that we always (without hypothesis on $M$) obtain such a
        map. This direclty follows (for example) from exercise 1.1 with $B = S^{-1}A$.

        Now we have to show that this is an isomorphism if $M$ is finitely presented.
        As usual, we write $M$ as part of a short exact sequence
        \begin{equation*}
            0 \to A^m \to A^n \to M \to 0.
        \end{equation*}
    Now we use that $\Hom_A(-,N)$ is right-exact. Hence applying $\Hom_A(-,N)$ yields
    an exact sequence
    \begin{equation*}
        0 \to 0 \to \Hom_A(M, N) \to \Hom_A(A^n,N) \cong N^n \to \Hom_A(A^m,N) \cong A^m.
    \end{equation*}
    Localizing at $S$ is exact, so we obtain
    \begin{equation*}
        0 \to 0 \to S^{-1}\Hom_A(M, N) \to (S^{-1}N)^n \to (S^{-1}N)^m.
    \end{equation*}   
    Similarly, we can localize at $S$ first and then apply
    $\Hom_{S^{-1}A}(S^{-1}(-), S^{-1}N)$, which yields the exact sequence
    \begin{equation*}
        0 \to 0 \to \Hom_{S^{-1}A}(S^{-1}M, S^{-1}N) \to (S^{-1}N)^n \to
        (S^{-1}N)^m.
    \end{equation*}
    Now we can use the $5$-lemma again!
\[\begin{tikzcd}[ampersand replacement=\&]
	0 \& 0 \& {S^{-1}\Hom_A(M,N)} \& {(S^{-1}A)^n} \& {(S^{-1}A)^m} \\
	0 \& 0 \& {\Hom_{S^{-1}A}(S^{-1}M, S^{-1}N)} \& {(S^{-1}A)^n} \& {(S^{-1}A)^m}
	\arrow[Rightarrow, no head, from=1-1, to=2-1]
	\arrow[Rightarrow, no head, from=1-2, to=2-2]
	\arrow[Rightarrow, no head, from=1-4, to=2-4]
	\arrow[Rightarrow, no head, from=1-5, to=2-5]
	\arrow["{\therefore \text{iso}}", from=1-3, to=2-3]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-1, to=1-2]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]

\item A standard example seems to be the following. Let $A = k[x, y_1, y_2, \dots]$ be 
    the polynomial ring in variables indexed by $\N$. Let $M = A / (y_1, y_2, \dots)$,
    $N = A/(xy_1, x^2y_2, \dots)$ and $S = \{1,x,x^2,\dots\}$. Now let's compare both 
    sides of the morphism. Note that $M$ is generated by $1$, so that any
    $A$-linear morphism $\phi: M \to N$ is uniquely determined by the value of
    $\phi(1) \in N$. Now we have $0 = y_1 \phi(1) = y_2 \phi(1) = \dots$, which shows
    that any lift $\tilde{\phi(1)} \in R$ is infintely divisible by $x$, hence 
    $\phi(1) = 0$. On the left hand side, we find that
    $S^{-1} M \cong S^{-1}N \cong k[x^{\pm 1}]$, so there are many $S^{-1}A$-linear
    morphisms $S^{-1} M \to S^{-1}N$. 
\end{enumerate}

\exercise{4}
Let $A$ be a principal domain and let $f \in A \setminus \{0\}$ be a 
non-unit. Show that the $A[T]$-module $(f,T) \subset A[T]$ is not flat. 

\textbf{Solution.}
Consider the map given by multiplication with $f$, which we will 
denote as $\phi: A \to A$. It is injective. Note that $A \cong A[T]/(T)$. 
We want to show that $(f,T) \otimes_{A[T]} A$ is not injective, 
showing that $(f,T)$ is not flat. We have an isomorphism (of $A[T]$-modules)
$$(f,T) \otimes_{A[T]} A \cong (f,T) / T (f,T),$$
and $(f,T) \otimes \phi$ corresponds to the endomorphism given by multiplication
with $f$ under this identification.
Now, $T \neq 0$ in $(f,T)/T(f,T)$, but $fT = \phi(T) = 0$. 

\contactend

\end{document}
