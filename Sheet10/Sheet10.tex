\documentclass[a4paper,11pt]{article}
\pagenumbering{arabic}
\usepackage{../environment}
\usepackage{blindtext}
\usepackage{hyperref}
\usepackage{../quiver}

\begin{document}

\begin{center}
    \huge{Solutions to Sheet 10}
\end{center}

\exercise{1}
Let $k$ be a field and let $f: A\to B$ be a $k$-algebra homomorphism
with $B$ a finitely generated $k$-algebra. Let $\fm \subset B$ be 
a maximal ideal. Show that $f^{-1}(\fm) \subset A$ is a maximal idea.

\textbf{Solution.} Write $B = k[x_1, \dots, x_n]/I$. If $\fm \subset B$
is maximal, then $B/\fm \cong K$, where $K/k$ is a finite field extension 
by Hilbert's Nullstellensatz. We have the morphism
\begin{equation*}
    A/f^{-1}(\fm) \to B/\fm = K,
\end{equation*}
which is readily seen to be injective. Hence $A/f^{-1}(\fm)$ is isomorphic to some 
sub-$k$-algebra of a finite field extension of $k$. But now it is a finite
$k$-algebra, in particular a field itself. This shows that $f^{-1}(\fm)$ 
is maximal.


\exercise{2}
Let $n \geq 0$ and $Z \subset k^n$ be an algebraic subset. Show that $I(Z)$
is a prime ideal if and only if $Z = Z_1 \cap Z_2$ with $Z_1, Z_2$ 
algebraic implies $Z = Z_1$ or $Z = Z_2$. 

\textbf{Solution.} A space sufficing the latter condition is called
\textit{irreducible}. I think all we know about $V(-)$ and 
$I(-)$ is
\begin{itemize}
    \item Hilbert's Nullstellensatz: $I(V(J)) = \sqrt J$ and $V(I(Z)) = Z$. 
    \item $I(-)$ and $V(-)$ are inclusion-reversing.
    \item $V(J_1 \cap J_2) = V(J_1 J_2) = V(J_1) \cup V(J_2)$ and $V(J_1 + J_2) = 
        V(J_1) \cap V(J_2)$
    \item $I(Z_1 \cap Z_2) = I(Z_1)+I(Z_2)$ and $I(Z_1 \cup Z_2) = I(Z_1)\cap
        I(Z_2)$. 
    \item The Zariski-Topology: This is the coarsest topology with sets of
        the form $V(I)$ closed. 
\end{itemize}

If $Z$ is irreducible and $f_1 f_2 \in I(Z)$,
we have $V(f_1 f_2) \supset Z$ find $( V(f_1) \cap Z ) \cup ( V(f_2) \cap Z ) =
Z$, hence $V(f_1) \supset Z$ or $V(f_2) \supset Z$, which shows 
$f_1 \in I(Z)$ or $f_2 \in I(Z)$. Hence $I(Z)$ is prime. 

On the contrary, if $I(Z)$ is prime and $Z = Z_1 \cup Z_2$, we find 
$I(Z) = I(Z_1 \cup Z_2) = I(Z_1) I(Z_2)$. Wlog, This implies $I(Z_1) = I(Z)$,
hence $Z = V(I(Z)) = V(I(Z_1)) = Z_1$.

\exercise{3}
A ring is called \textit{Jacobson} if each prime ideal is the intersection
of all maximal ideals containing it. 
\begin{enumerate}
    \item Show that a ring $A$ is Jacobson if any only if for all primes
        $\fp \subset A$ and $a \not \in \fp$ there exists a 
        maximal ideal $\fm \subset A$ such that $a \not \in \fm$
        and $\fp \subset \fm$. 
    \item Let $f: A\to B$ be an injective, integral morphism and assume that 
        $B$ is Jacobson. Show that $A$ is Jacobson. Deduce from the lecture
        that for each field $k$ and $n \geq 0$ the ring
        $k[X_1, \dots, X_n]$ is Jacobson.
\end{enumerate}

\textbf{Solution.}

\textsc{1.} There is not much to do. If $A$ is Jacobson, then every prime 
ideal is the intersection containing it, hence for every $a \not \in \fp$ there
is some $\fm \supset \fp$ with $a \not \in \fm$. The other direction is also readily
verified.

\textsc{2.} First of all, note that if $\fm \subset B$ is maximal, $f^{-1}(\fm)
\subset A$ is maximal as well. This follows directly from the going-up property
of integral extension. 

Also by going-up (or more generally, lying over) we find some $\fq \in \spec(B)$
with $f^{-1}(\fq) = \fp$. As $B$ is Jacobson we have $\fq = \bigcap_{\fm \supset
\fq} \fm$, so that we obtain 
$$\fp = f^{-1}(\fq) = \bigcap_{\fm \supset \fq} f^{-1}(\fm) = 
\bigcap_{f^{-1}(\fm) \supset \fp} f^{-1}(\fm).$$

\textit{Alternative proof.} We can also use part 1. Let 
$\fp \in \spec(A)$, $a \in A$ be any elements. By the lying-over property for
integral extensions we find some prime $\fq \in \spec(B)$ with
$\fq \cap A = \fp$. Now there is some maximal ideal $\fm \in \spec(B)$ 
with $\fq \subset \fm$ and $a \not \in \fm$. But now let $\fm' = A \cap \fm$.
This is a maximal ideal containing $\fp$, not containing $a$. We are done with 
part 1.


\exercise{4}
Let $A$ be a local ring and $M$ a finitely presented, flat $A$-module.
Show that $M$ is free. \textit{Hint:} Let $\fm \subset A$ be the maximal ideal.
Use prev sheet to construct a short exact sequence $0 \to K \to A^n \to M \to 0$
with $K$ finitely generated and $(A/\fm)^n \to M/\fm M$ an isomorphism.
Now use flatness of $M$ and the snake lemma to check that $0 \to K/\fm K
\to (A/\fm)^n \to M/\fm \to 0$ is again short exact.

\textbf{Solution.}
We follow the hint. Write $k = A/\fm$. Note that we can choose $n$ as the 
$k$-dimension of $M/\fm$: The dimension is finite by finite-generatedness of $M$ and
right-exactness of tensoring with $A/\fm = k$. By Nakayama's Lemma, any choice of
generators of $M/\fm$ lifts to generators of $M$. Hence we can construct a surjective
morphism of $A$-modules $A^n \to M$ which is an isomorphism up to tensoring
with $k$. Note that $\fm A \inj A$, so after tensoring with $M$
we find $\fm \otimes_A M \inj M$. Also, tensoring the exact sequence
\begin{equation*}
    0 \to K \to A^n \to M \to 0
\end{equation*}
with $\fm$ yields the exact sequence
\begin{equation*}
    \fm \otimes_A K \to \fm^n \to \fm \otimes_A M \to 0.
\end{equation*}
All information up to now is encoded in the following diagram with exact rows.
\begin{equation*}
\begin{tikzcd}[ampersand replacement=\&]
	\& {\fm \otimes K} \& {\fm^n} \& {\fm \otimes_A M} \& 0 \\
	0 \& K \& {A^n} \& M \& 0 \\
	0 \& 0 \& {(A/\fm)^n} \& {M/\fm M} \& 0
	\arrow[from=3-1, to=3-2]
	\arrow[from=3-2, to=3-3]
	\arrow[from=3-3, to=3-4]
	\arrow[from=3-4, to=3-5]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
	\arrow[hook, from=1-4, to=2-4]
	\arrow[hook, from=1-3, to=2-3]
	\arrow[two heads, from=2-4, to=3-4]
	\arrow[two heads, from=2-3, to=3-3]
	\arrow[from=2-2, to=3-2]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
\end{equation*}
The snake lemma on the top two rows yields a short exact sequence
$$0 \to K / \fm K \to (A/\fm)^n \to M/\fm M \to 0,$$ and we obtain
$K/\fm K = 0$, i.e. $K = \fm K$. But $K$ is finitely generated (as $M$ is finitely
presented), and this implies $K = 0$ by Nakayama. 

There is a better way to think about the homological algebra here. We know
already that tensoring is right-exact, but in general not left-exact. As it
turns out, the failure of left-exactness can be captured by certain
\textit{higher derived} tensor products, also known as Tor-functors. The idea
is simple, albeit unintuitive if you have never encountered cohomology groups:
Given a short exact seqeunce of $A$-modules
\begin{equation*}
    0 \to M' \to M \to M'' \to 0
\end{equation*}
and another $A$-module $N$, there are certain functors $\Tor_i^A(N,-)$
which capture the failure of left-exactness in that they fit into a long exact
sequence
\begin{multline*}
    \dots \Tor_2(N, M'') \to \Tor_1(N,M') \to \Tor_1(N,M) \to \Tor_1(N,M'') \\ 
    \to N \otimes_A M' \to N \otimes_A M \to N \otimes_A M'' \to 0.
\end{multline*}
One can show that $\Tor_i^A$ is symmetric, i.e., $\Tor_i(M,N) = \Tor_i(N,M)$. 
Using Tor, one finds that $M$ being flat is the same as $\Tor_i(M, N) = 0$
for all $i > 0$. This should make sense: If we have any exact sequence 
ending in $N$, then thensoring with $M$ shouldn't make this not-exact, so 
$\Tor_1(M,N) = 0$. Knowing this, we see that any sequence ending in $M$ is
universally exact, i.e., still exact if we tensor it with any other $A$-module 
$N$. In particular, exactness of the sequence
\begin{equation*}
    0 \to K \to A^n \to M \to 0
\end{equation*}
implies exactness of the sequence
\begin{equation*}
    \Tor_1^A(M, A/\fm) = 0 \to K/ \fm K \to (A/\fm A)^n \to M/\fm M \to 0.
\end{equation*}



\contactend
\end{document}
